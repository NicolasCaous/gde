/*

 FullCalendar v1.5.2 - Modified by: Guaycuru
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: 

*/
(function(l,na){function yb(a){l.extend(true,Za,a)}function Zb(a,b,e){function d(i){if(D){u();k();la();Q(i)}else f()}function f(){y=b.theme?"ui":"fc";a.addClass("fc");b.isRTL&&a.addClass("fc-rtl");b.theme&&a.addClass("ui-widget");D=l("<div class='fc-content' style='position:relative'/>").prependTo(a);E=new $b(V,b);(O=E.render())&&a.prepend(O);t(b.defaultView);l(window).resize(ma);q()||g()}function g(){setTimeout(function(){!n.start&&q()&&Q()},0)}function o(){l(window).unbind("resize",ma);E.destroy();
D.remove();a.removeClass("fc fc-rtl ui-widget")}function z(){return j.offsetWidth!==0}function q(){return l("body")[0].offsetWidth!==0}function t(i){if(!n||i!=n.name){C++;oa();var H=n,Z;if(H){(H.beforeHide||zb)();$a(D,D.height());H.element.hide()}else $a(D,1);D.css("overflow","hidden");if(n=X[i])n.element.show();else n=X[i]=new Ka[i](Z=v=l("<div class='fc-view fc-view-"+i+"' style='position:absolute'/>").appendTo(D),V);H&&E.deactivateButton(H.name);E.activateButton(i);Q();D.css("overflow","");H&&
$a(D,1);Z||(n.afterShow||zb)();C--}}function Q(i){if(z()){C++;oa();r===na&&u();var H=false;if(!n.start||i||m<n.start||m>=n.end){n.render(m,i||0);ba(true);H=true}else if(n.sizeDirty){n.clearEvents();ba();H=true}else if(n.eventsDirty){n.clearEvents();H=true}n.sizeDirty=false;n.eventsDirty=false;ha(H);W=a.outerWidth();E.updateTitle(n.title);i=new Date;i>=n.start&&i<n.end?E.disableButton("today"):E.enableButton("today");C--;n.trigger("viewDisplay",j)}}function L(){k();if(z()){u();ba();oa();n.clearEvents();
n.renderEvents(I);n.sizeDirty=false}}function k(){l.each(X,function(i,H){H.sizeDirty=true})}function u(){r=b.contentHeight?b.contentHeight:b.height?b.height-(O?O.height():0)-Ta(D):Math.round(D.width()/Math.max(b.aspectRatio,0.5))}function ba(i){C++;n.setHeight(r,i);if(v){v.css("position","relative");v=null}n.setWidth(D.width(),i);C--}function ma(){if(!C)if(n.start){var i=++A;setTimeout(function(){if(i==A&&!C&&z())if(W!=(W=a.outerWidth())){C++;L();n.trigger("windowResize",j);C--}},200)}else g()}function ha(i){if(!b.lazyFetching||
za(n.visStart,n.visEnd))qa();else i&&fa()}function qa(){P(n.visStart,n.visEnd)}function sa(i){I=i;fa()}function ia(i){fa(i)}function fa(i){la();if(z()){n.clearEvents();n.renderEvents(I,i);n.eventsDirty=false}}function la(){l.each(X,function(i,H){H.eventsDirty=true})}function ua(i,H,Z){n.select(i,H,Z===na?true:Z)}function oa(){n&&n.unselect()}function U(){Q(-1)}function da(){Q(1)}function ja(){hb(m,-1);Q()}function pa(){hb(m,1);Q()}function F(){m=new Date;Q()}function s(i,H,Z){if(i instanceof Date)m=
J(i);else Ab(m,i,H,Z);Q()}function K(i,H,Z){i!==na&&hb(m,i);H!==na&&ib(m,H);Z!==na&&aa(m,Z);Q()}function c(){return J(m)}function x(){return n}function G(i,H){if(H===na)return b[i];if(i=="height"||i=="contentHeight"||i=="aspectRatio"){b[i]=H;L()}}function R(i,H){if(b[i])return b[i].apply(H||j,Array.prototype.slice.call(arguments,2))}var V=this;V.options=b;V.render=d;V.destroy=o;V.refetchEvents=qa;V.reportEvents=sa;V.reportEventChange=ia;V.rerenderEvents=fa;V.changeView=t;V.select=ua;V.unselect=oa;
V.prev=U;V.next=da;V.prevYear=ja;V.nextYear=pa;V.today=F;V.gotoDate=s;V.incrementDate=K;V.formatDate=function(i,H){return Pa(i,H,b)};V.formatDates=function(i,H,Z){return jb(i,H,Z,b)};V.getDate=c;V.getView=x;V.option=G;V.trigger=R;ac.call(V,b,e);var za=V.isFetchNeeded,P=V.fetchEvents,j=a[0],E,O,D,y,n,X={},W,r,v,A=0,C=0,m=new Date,I=[],M;Ab(m,b.year,b.month,b.date);b.droppable&&l(document).bind("dragstart",function(i,H){var Z=i.target,ka=l(Z);if(!ka.parents(".fc").length){var ca=b.dropAccept;if(l.isFunction(ca)?
ca.call(Z,ka):ka.is(ca)){M=Z;n.dragStart(M,i,H)}}}).bind("dragstop",function(i,H){if(M){n.dragStop(M,i,H);M=null}})}function $b(a,b){function e(){k=b.theme?"ui":"fc";if(b.header)return L=l("<table class='fc-header' style='width:100%'/>").append(l("<tr/>").append(f("left")).append(f("center")).append(f("right")))}function d(){L.remove()}function f(u){var ba=l("<td class='fc-header-"+u+"'/>");(u=b.header[u])&&l.each(u.split(" "),function(ma){ma>0&&ba.append("<span class='fc-header-space'/>");var ha;
l.each(this.split(","),function(qa,sa){if(sa=="title"){ba.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");ha&&ha.addClass(k+"-corner-right");ha=null}else{var ia;if(a[sa])ia=a[sa];else if(Ka[sa])ia=function(){la.removeClass(k+"-state-hover");a.changeView(sa)};if(ia){qa=b.theme?kb(b.buttonIcons,sa):null;var fa=kb(b.buttonText,sa),la=l("<span class='fc-button fc-button-"+sa+" "+k+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(qa?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+
qa+"'/></span>":fa)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(la){la.click(function(){la.hasClass(k+"-state-disabled")||ia()}).mousedown(function(){la.not("."+k+"-state-active").not("."+k+"-state-disabled").addClass(k+"-state-down")}).mouseup(function(){la.removeClass(k+"-state-down")}).hover(function(){la.not("."+k+"-state-active").not("."+k+"-state-disabled").addClass(k+"-state-hover")},function(){la.removeClass(k+"-state-hover").removeClass(k+"-state-down")}).appendTo(ba);
ha||la.addClass(k+"-corner-left");ha=la}}}});ha&&ha.addClass(k+"-corner-right")});return ba}function g(u){L.find("h2").html(u)}function o(u){L.find("span.fc-button-"+u).addClass(k+"-state-active")}function z(u){L.find("span.fc-button-"+u).removeClass(k+"-state-active")}function q(u){L.find("span.fc-button-"+u).addClass(k+"-state-disabled")}function t(u){L.find("span.fc-button-"+u).removeClass(k+"-state-disabled")}var Q=this;Q.render=e;Q.destroy=d;Q.updateTitle=g;Q.activateButton=o;Q.deactivateButton=
z;Q.disableButton=q;Q.enableButton=t;var L=l([]),k}function ac(a,b){function e(c,x){return!da||c<da||x>ja}function d(c,x){da=c;ja=x;K=[];c=++pa;F=x=U.length;for(var G=0;G<x;G++)f(U[G],c)}function f(c,x){g(c,function(G){if(x==pa){if(G){for(var R=0;R<G.length;R++){G[R].source=c;ma(G[R])}K=K.concat(G)}F--;F||ua(K)}})}function g(c,x){var G,R=Ba.sourceFetchers,V;for(G=0;G<R.length;G++){V=R[G](c,da,ja,x);if(V===true)return;else if(typeof V=="object"){g(V,x);return}}if(G=c.events)if(l.isFunction(G)){u();
G(J(da),J(ja),function(E){x(E);ba()})}else l.isArray(G)?x(G):x();else if(c.url){var za=c.success,P=c.error,j=c.complete;G=l.extend({},c.data||{});R=Ua(c.startParam,a.startParam);V=Ua(c.endParam,a.endParam);if(R)G[R]=Math.round(+da/1E3);if(V)G[V]=Math.round(+ja/1E3);u();l.ajax(l.extend({},bc,c,{data:G,success:function(E){E=E||[];var O=ab(za,this,arguments);if(l.isArray(O))E=O;x(E)},error:function(){ab(P,this,arguments);x()},complete:function(){ab(j,this,arguments);ba()}}))}else x()}function o(c){if(c=
z(c)){F++;f(c,pa)}}function z(c){if(l.isFunction(c)||l.isArray(c))c={events:c};else if(typeof c=="string")c={url:c};if(typeof c=="object"){ha(c);U.push(c);return c}}function q(c){U=l.grep(U,function(x){return!qa(x,c)});K=l.grep(K,function(x){return!qa(x.source,c)});ua(K)}function t(c){var x,G=K.length,R,V=la().defaultEventEnd,za=c.start-c._start,P=c.end?c.end-(c._end||V(c)):0;for(x=0;x<G;x++){R=K[x];if(R._id==c._id&&R!=c){R.start=new Date(+R.start+za);R.end=c.end?R.end?new Date(+R.end+P):new Date(+V(R)+
P):null;R.title=c.title;R.url=c.url;R.allDay=c.allDay;R.className=c.className;R.editable=c.editable;R.color=c.color;R.backgroudColor=c.backgroudColor;R.borderColor=c.borderColor;R.textColor=c.textColor;ma(R)}}ma(c);ua(K)}function Q(c,x){ma(c);if(!c.source){if(x){oa.events.push(c);c.source=oa}K.push(c)}ua(K)}function L(c){if(c){if(!l.isFunction(c)){var x=c+"";c=function(R){return R._id==x}}K=l.grep(K,c,true);for(G=0;G<U.length;G++)if(l.isArray(U[G].events))U[G].events=l.grep(U[G].events,c,true)}else{K=
[];for(var G=0;G<U.length;G++)if(l.isArray(U[G].events))U[G].events=[]}ua(K)}function k(c){if(l.isFunction(c))return l.grep(K,c);else if(c){c+="";return l.grep(K,function(x){return x._id==c})}return K}function u(){s++||fa("loading",null,true)}function ba(){--s||fa("loading",null,false)}function ma(c){var x=c.source||{},G=Ua(x.ignoreTimezone,a.ignoreTimezone);c._id=c._id||(c.id===na?"_fc"+cc++:c.id+"");if(c.date){if(!c.start)c.start=c.date;delete c.date}c._start=J(c.start=lb(c.start,G));c.end=lb(c.end,
G);if(c.end&&c.end<=c.start)c.end=null;c._end=c.end?J(c.end):null;if(c.allDay===na)c.allDay=Ua(x.allDayDefault,a.allDayDefault);if(c.className){if(typeof c.className=="string")c.className=c.className.split(/\s+/)}else c.className=[]}function ha(c){if(c.className){if(typeof c.className=="string")c.className=c.className.split(/\s+/)}else c.className=[];for(var x=Ba.sourceNormalizers,G=0;G<x.length;G++)x[G](c)}function qa(c,x){return c&&x&&sa(c)==sa(x)}function sa(c){return(typeof c=="object"?c.events||
c.url:"")||c}var ia=this;ia.isFetchNeeded=e;ia.fetchEvents=d;ia.addEventSource=o;ia.removeEventSource=q;ia.updateEvent=t;ia.renderEvent=Q;ia.removeEvents=L;ia.clientEvents=k;ia.normalizeEvent=ma;var fa=ia.trigger,la=ia.getView,ua=ia.reportEvents,oa={events:[]},U=[oa],da,ja,pa=0,F=0,s=0,K=[];for(ia=0;ia<b.length;ia++)z(b[ia])}function hb(a,b,e){a.setFullYear(a.getFullYear()+b);e||La(a);return a}function ib(a,b,e){if(+a){b=a.getMonth()+b;var d=J(a);d.setDate(1);d.setMonth(b);a.setMonth(b);for(e||La(a);a.getMonth()!=
d.getMonth();)a.setDate(a.getDate()+(a<d?1:-1))}return a}function aa(a,b,e){if(+a){b=a.getDate()+b;var d=J(a);d.setHours(9);d.setDate(b);a.setDate(b);e||La(a);mb(a,d)}return a}function mb(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*dc)}function xa(a,b){a.setMinutes(a.getMinutes()+b);return a}function La(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function J(a,b){if(b)return La(new Date(+a));return new Date(+a)}function Bb(){var a=0,b;do b=new Date(1970,
a++,1);while(b.getHours());return b}function Ga(a,b,e,d){var f=b;if(d)f=l.map(b,function(g){return(g+1)%7});for(e=e||1;l.inArray(a.getDay(),f)!=-1;)aa(a,e);return a}function Da(a,b){return Math.round((J(a,true)-J(b,true))/Cb)}function Ab(a,b,e,d){if(b!==na&&b!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(b)}if(e!==na&&e!=a.getMonth()){a.setDate(1);a.setMonth(e)}d!==na&&a.setDate(d)}function lb(a,b){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a==
"string"){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*1E3);if(b===na)b=true;return Db(a,b)||(a?new Date(a):null)}return null}function Db(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return null;var e=new Date(a[1],0,1);if(b||!a[13]){b=new Date(a[1],0,1,9,0);if(a[3]){e.setMonth(a[3]-1);b.setMonth(a[3]-1)}if(a[5]){e.setDate(a[5]);b.setDate(a[5])}mb(e,b);a[7]&&e.setHours(a[7]);
a[8]&&e.setMinutes(a[8]);a[10]&&e.setSeconds(a[10]);a[12]&&e.setMilliseconds(Number("0."+a[12])*1E3);mb(e,b)}else{e.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);e.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);if(a[14]){b=Number(a[16])*60+(a[18]?Number(a[18]):0);b*=a[15]=="-"?1:-1;e=new Date(+e+b*60*1E3)}}return e}function nb(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1],
10);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2],10):0)}}function Pa(a,b,e){return jb(a,null,b,e)}function jb(a,b,e,d){d=d||Za;var f=a,g=b,o,z=e.length,q,t,Q,L="";for(o=0;o<z;o++){q=e.charAt(o);if(q=="'")for(t=o+1;t<z;t++){if(e.charAt(t)=="'"){if(f){L+=t==o+1?"'":e.substring(o+1,t);o=t}break}}else if(q=="(")for(t=o+1;t<z;t++){if(e.charAt(t)==")"){o=Pa(f,e.substring(o+1,t),d);if(parseInt(o.replace(/\D/,""),10))L+=o;o=t;break}}else if(q=="[")for(t=o+1;t<
z;t++){if(e.charAt(t)=="]"){q=e.substring(o+1,t);o=Pa(f,q,d);if(o!=Pa(g,q,d))L+=o;o=t;break}}else if(q=="{"){f=b;g=a}else if(q=="}"){f=a;g=b}else{for(t=z;t>o;t--)if(Q=ec[e.substring(o,t)]){if(f)L+=Q(f,d);o=t-1;break}if(t==o)if(f)L+=q}}return L}function Va(a){return a.end?fc(a.end,a.allDay):aa(J(a.start),1)}function fc(a,b){a=J(a);return b||a.getHours()||a.getMinutes()?aa(a,1):La(a)}function gc(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function Eb(a,b){return a.end>b.start&&
a.start<b.end}function ob(a,b,e,d){var f=[],g,o=a.length,z,q,t,Q,L;for(g=0;g<o;g++){z=a[g];q=z.start;t=b[g];if(t>e&&q<d){if(q<e){q=J(e);Q=false}else{q=q;Q=true}if(t>d){t=J(d);L=false}else{t=t;L=true}f.push({event:z,start:q,end:t,isStart:Q,isEnd:L,msLength:t-q})}}return f.sort(gc)}function pb(a){var b=[],e,d=a.length,f,g,o,z;for(e=0;e<d;e++){f=a[e];for(g=0;;){o=false;if(b[g])for(z=0;z<b[g].length;z++)if(Eb(b[g][z],f)){o=true;break}if(o)g++;else break}if(b[g])b[g].push(f);else b[g]=[f]}return b}function Fb(a,
b,e){a.unbind("mouseover").mouseover(function(d){for(var f=d.target,g;f!=this;){g=f;f=f.parentNode}if((f=g._fci)!==na){g._fci=na;g=b[f];e(g.event,g.element,g);l(d.target).trigger(d)}d.stopPropagation()})}function Wa(a,b,e){for(var d=0,f;d<a.length;d++){f=l(a[d]);f.width(Math.max(0,b-qb(f,e)))}}function Gb(a,b,e){for(var d=0,f;d<a.length;d++){f=l(a[d]);f.height(Math.max(0,b-Ta(f,e)))}}function qb(a,b){return hc(a)+ic(a)+(b?jc(a):0)}function hc(a){return(parseFloat(l.curCSS(a[0],"paddingLeft",true))||
0)+(parseFloat(l.curCSS(a[0],"paddingRight",true))||0)}function jc(a){return(parseFloat(l.curCSS(a[0],"marginLeft",true))||0)+(parseFloat(l.curCSS(a[0],"marginRight",true))||0)}function ic(a){return(parseFloat(l.curCSS(a[0],"borderLeftWidth",true))||0)+(parseFloat(l.curCSS(a[0],"borderRightWidth",true))||0)}function Ta(a,b){return kc(a)+lc(a)+(b?Hb(a):0)}function kc(a){return(parseFloat(l.curCSS(a[0],"paddingTop",true))||0)+(parseFloat(l.curCSS(a[0],"paddingBottom",true))||0)}function Hb(a){return(parseFloat(l.curCSS(a[0],
"marginTop",true))||0)+(parseFloat(l.curCSS(a[0],"marginBottom",true))||0)}function lc(a){return(parseFloat(l.curCSS(a[0],"borderTopWidth",true))||0)+(parseFloat(l.curCSS(a[0],"borderBottomWidth",true))||0)}function $a(a,b){b=typeof b=="number"?b+"px":b;a.each(function(e,d){d.style.cssText+=";min-height:"+b+";_height:"+b})}function zb(){}function Ib(a,b){return a-b}function Jb(a){return Math.max.apply(Math,a)}function Qa(a){return(a<10?"0":"")+a}function kb(a,b){if(a[b]!==na)return a[b];b=b.split(/(?=[A-Z])/);
for(var e=b.length-1,d;e>=0;e--){d=a[b[e].toLowerCase()];if(d!==na)return d}return a[""]}function Ra(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Kb(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function rb(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function bb(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}
function sb(a,b){a.each(function(e,d){d.className=d.className.replace(/^fc-\w*/,"fc-"+mc[b.getDay()])})}function Lb(a,b){var e=a.source||{},d=a.color,f=e.color,g=b("eventColor"),o=a.backgroundColor||d||e.backgroundColor||f||b("eventBackgroundColor")||g;d=a.borderColor||d||e.borderColor||f||b("eventBorderColor")||g;a=a.textColor||e.textColor||b("eventTextColor");b=[];o&&b.push("background-color:"+o);d&&b.push("border-color:"+d);a&&b.push("color:"+a);return b.join(";")}function ab(a,b,e){if(l.isFunction(a))a=
[a];if(a){var d,f;for(d=0;d<a.length;d++)f=a[d].apply(b,e)||f;return f}}function Ua(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==na)return arguments[a]}function nc(a,b){function e(q,t){if(t){ib(q,t);q.setDate(1)}q=J(q,true);q.setDate(1);t=ib(J(q),1);var Q=J(q),L=J(t),k=f("firstDay"),u=f("weekends")?0:1,ba=g("weekendDays");if(u){Ga(Q,ba);Ga(L,ba,-1,true)}k=Math.max(k,l.inArray(k,ba)==-1?0:1);aa(Q,-((Q.getDay()-k+7)%7));aa(L,(7-L.getDay()+k)%7);k=Math.round((L-Q)/(Cb*7));if(f("weekMode")==
"fixed"){aa(L,(6-k)*7);k=6}d.title=z(q,f("titleFormat"));d.start=q;d.end=t;d.visStart=Q;d.visEnd=L;o(6,k,u?7-g("weekendDays").length:7,true)}var d=this;d.render=e;tb.call(d,a,b,"month");var f=d.opt,g=b.option,o=d.renderBasic,z=b.formatDate}function oc(a,b){function e(q,t){t&&aa(q,t*7);q=aa(J(q),-((q.getDay()-f("firstDay")+7)%7));t=aa(J(q),7);var Q=J(q),L=J(t),k=f("weekends");if(!k){Ga(Q,g("weekendDays"));Ga(L,g("weekendDays"),-1,true)}d.title=z(Q,aa(J(L),-1),f("titleFormat"));d.start=q;d.end=t;d.visStart=
Q;d.visEnd=L;o(1,1,k?7:7-g("weekendDays").length,false)}var d=this;d.render=e;tb.call(d,a,b,"basicWeek");var f=d.opt,g=b.option,o=d.renderBasic,z=b.formatDates}function pc(a,b){function e(q,t){if(t){aa(q,t);f("weekends")||Ga(q,g("weekendDays"),t<0?-1:1)}d.title=z(q,f("titleFormat"));d.start=d.visStart=J(q,true);d.end=d.visEnd=aa(J(d.start),1);o(1,1,1,false)}var d=this;d.render=e;tb.call(d,a,b,"basicDay");var f=d.opt,g=b.option,o=d.renderBasic,z=b.formatDate}function tb(a,b,e){function d(p,T,S,Y){C=
T;m=S;f();(T=!O)?g(p,Y):G();o(T)}function f(){if(H=K("isRTL")){Z=-1;ka=m-1}else{Z=1;ka=0}ca=K("firstDay");ra=Math.max(ca,l.inArray(ca,c("weekendDays"))==-1?0:1);$=K("theme")?"ui":"fc";wa=K("columnFormat")}function g(p,T){var S,Y=$+"-widget-header",ga=$+"-widget-content",ea;S="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(ea=0;ea<m;ea++)S+="<th class='fc- "+Y+"'/>";S+="</tr></thead><tbody>";for(ea=0;ea<p;ea++){S+="<tr class='fc-week"+ea+"'>";for(Y=0;Y<m;Y++)S+=
"<td class='fc- "+ga+" fc-day"+(ea*m+Y)+"'><div>"+(T?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";S+="</tr>"}S+="</tbody></table>";p=l(S).appendTo(a);j=p.find("thead");E=j.find("th");O=p.find("tbody");D=O.find("tr");y=O.find("td");n=y.filter(":first-child");X=D.eq(0).find("div.fc-day-content div");bb(j.add(j.find("tr")));bb(D);D.eq(0).addClass("fc-first");t(y);W=l("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}
function o(p){var T=p||C==1,S=s.start.getMonth(),Y=La(new Date),ga,ea,ya;T&&E.each(function(va,Ha){ga=l(Ha);ea=da(va);ga.html(P(ea,wa));sb(ga,ea)});y.each(function(va,Ha){ga=l(Ha);ea=da(va);ea.getMonth()==S?ga.removeClass("fc-other-month"):ga.addClass("fc-other-month");+ea==+Y?ga.addClass($+"-state-highlight fc-today"):ga.removeClass($+"-state-highlight fc-today");ga.find("div.fc-day-number").text(ea.getDate());T&&sb(ga,ea)});D.each(function(va,Ha){ya=l(Ha);if(va<C){ya.show();va==C-1?ya.addClass("fc-last"):
ya.removeClass("fc-last")}else ya.hide()})}function z(p){v=p;p=v-j.height();var T,S,Y;if(K("weekMode")=="variable")T=S=Math.floor(p/(C==1?2:6));else{T=Math.floor(p/C);S=p-T*(C-1)}n.each(function(ga,ea){if(ga<C){Y=l(ea);$a(Y.find("> div"),(ga==C-1?S:T)-Ta(Y))}})}function q(p){r=p;i.clear();A=Math.floor(r/m);Wa(E.slice(0,-1),A)}function t(p){p.click(Q).mousedown(za)}function Q(p){if(!K("selectable")){var T=parseInt(this.className.match(/fc\-day(\d+)/)[1]);T=da(T);x("dayClick",this,T,true,p)}}function L(p,
T,S){S&&I.build();S=J(s.visStart);for(var Y=aa(J(S),m),ga=0;ga<C;ga++){var ea=new Date(Math.max(S,p)),ya=new Date(Math.min(Y,T));if(ea<ya){var va;if(H){va=Da(ya,S)*Z+ka+1;ea=Da(ea,S)*Z+ka+1}else{va=Da(ea,S);ea=Da(ya,S)}t(k(ga,va,ga,ea-1))}aa(S,7);aa(Y,7)}}function k(p,T,S,Y){p=I.rect(p,T,S,Y,a);return R(p,a)}function u(p){return J(p)}function ba(p,T){L(p,aa(J(T),1),true)}function ma(){V()}function ha(p,T,S){var Y=ua(p);x("dayClick",y[Y.row*m+Y.col],p,T,S)}function qa(p,T){M.start(function(S){V();
S&&k(S.row,S.col,S.row,S.col)},T)}function sa(p,T,S){var Y=M.stop();V();if(Y){Y=oa(Y);x("drop",p,Y,true,T,S)}}function ia(p){return J(p.start)}function fa(p){return i.left(p)}function la(p){return i.right(p)}function ua(p){return{row:Math.floor(Da(p,s.visStart)/7),col:ja(p.getDay())}}function oa(p){return U(p.row,p.col)}function U(p,T){return aa(J(s.visStart),p*7+T*Z+ka)}function da(p){return U(Math.floor(p/m),p%m)}function ja(p){return(p-ra+m)%m*Z+ka}function pa(p){return D.eq(p)}function F(){return{left:0,
right:r}}var s=this;s.renderBasic=d;s.setHeight=z;s.setWidth=q;s.renderDayOverlay=L;s.defaultSelectionEnd=u;s.renderSelection=ba;s.clearSelection=ma;s.reportDayClick=ha;s.dragStart=qa;s.dragStop=sa;s.defaultEventEnd=ia;s.getHoverListener=function(){return M};s.colContentLeft=fa;s.colContentRight=la;s.dayOfWeekCol=ja;s.dateCell=ua;s.cellDate=oa;s.cellIsAllDay=function(){return true};s.allDayRow=pa;s.allDayBounds=F;s.getRowCnt=function(){return C};s.getColCnt=function(){return m};s.getColWidth=function(){return A};
s.getDaySegmentContainer=function(){return W};Mb.call(s,a,b,e);Nb.call(s);Ob.call(s);qc.call(s);var K=s.opt,c=b.option,x=s.trigger,G=s.clearEvents,R=s.renderOverlay,V=s.clearOverlays,za=s.daySelectionMousedown,P=b.formatDate,j,E,O,D,y,n,X,W,r,v,A,C,m,I,M,i,H,Z,ka,ca,ra,$,wa;rb(a.addClass("fc-grid"));I=new Pb(function(p,T){var S,Y,ga;E.each(function(ea,ya){S=l(ya);Y=S.offset().left;if(ea)ga[1]=Y;ga=[Y];T[ea]=ga});ga[1]=Y+S.outerWidth();D.each(function(ea,ya){if(ea<C){S=l(ya);Y=S.offset().top;if(ea)ga[1]=
Y;ga=[Y];p[ea]=ga}});ga[1]=Y+S.outerHeight()});M=new Qb(I);i=new Rb(function(p){return X.eq(p)})}function qc(){function a(U,da){Q(U);ua(e(U),da)}function b(){L();ha().empty()}function e(U){var da=fa(),ja=la(),pa=J(g.visStart);ja=aa(J(pa),ja);var F=l.map(U,Va),s,K,c,x,G,R,V=[];for(s=0;s<da;s++){K=pb(ob(U,F,pa,ja));for(c=0;c<K.length;c++){x=K[c];for(G=0;G<x.length;G++){R=x[G];R.row=s;R.level=c;V.push(R)}}aa(pa,7);aa(ja,7)}return V}function d(U,da,ja){q(U)&&f(U,da);ja.isEnd&&t(U)&&oa(U,da,ja);k(U,da)}
function f(U,da){var ja=qa(),pa;da.draggable({zIndex:9,delay:50,opacity:o("dragOpacity"),revertDuration:o("dragRevertDuration"),start:function(F,s){z("eventDragStart",da,U,F,s);ba(U,da);ja.start(function(K,c,x,G){da.draggable("option","revert",!K||!x&&!G);ia();if(K){pa=x*7+G*(o("isRTL")?-1:1);sa(aa(J(U.start),pa),aa(Va(U),pa))}else pa=0},F,"drag")},stop:function(F,s){ja.stop();ia();z("eventDragStop",da,U,F,s);if(pa)ma(this,U,pa,0,U.allDay,F,s);else{da.css("filter","");u(U,da)}}})}var g=this;g.renderEvents=
a;g.compileDaySegs=e;g.clearEvents=b;g.bindDaySeg=d;Sb.call(g);var o=g.opt,z=g.trigger,q=g.isEventDraggable,t=g.isEventResizable,Q=g.reportEvents,L=g.reportEventClear,k=g.eventElementHandlers,u=g.showEvents,ba=g.hideEvents,ma=g.eventDrop,ha=g.getDaySegmentContainer,qa=g.getHoverListener,sa=g.renderDayOverlay,ia=g.clearOverlays,fa=g.getRowCnt,la=g.getColCnt,ua=g.renderDaySegs,oa=g.resizableDayEvent}function rc(a,b){function e(q,t){t&&aa(q,t*7);q=aa(J(q),-((q.getDay()-f("firstDay")+7)%7));t=aa(J(q),
7);var Q=J(q),L=J(t),k=f("weekends");if(!k){Ga(Q,g("weekendDays"));Ga(L,g("weekendDays"),-1,true)}d.title=z(Q,aa(J(L),-1),f("titleFormat"));d.start=q;d.end=t;d.visStart=Q;d.visEnd=L;o(k?7:7-g("weekendDays").length)}var d=this;d.render=e;Tb.call(d,a,b,"agendaWeek");var f=d.opt,g=b.option,o=d.renderAgenda,z=b.formatDates}function sc(a,b){function e(q,t){if(t){aa(q,t);f("weekends")||Ga(q,g("weekendDays"),t<0?-1:1)}t=J(q,true);var Q=aa(J(t),1);d.title=z(q,f("titleFormat"));d.start=d.visStart=t;d.end=
d.visEnd=Q;o(1)}var d=this;d.render=e;Tb.call(d,a,b,"agendaDay");var f=d.opt,g=b.option,o=d.renderAgenda,z=b.formatDate}function Tb(a,b,e){function d(h){Ca=h;f();C?D():g();o()}function f(){Xa=j("theme")?"ui":"fc";ub=j("firstDay");Ub=Math.max(ub,l.inArray(ub,E("weekendDays"))==-1?0:1);if(Vb=j("isRTL")){Ia=-1;Ja=Ca-1}else{Ia=1;Ja=0}Ma=nb(j("minTime"));cb=nb(j("maxTime"));Wb=j("columnFormat")}function g(){var h=Xa+"-widget-header",N=Xa+"-widget-content",w,B,ta,Aa,Ea,Fa=j("slotMinutes")%15==0;w="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+
h+"'>&nbsp;</th>";for(B=0;B<Ca;B++)w+="<th class='fc- fc-col"+B+" "+h+"'/>";w+="<th class='fc-agenda-gutter "+h+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+h+"'>&nbsp;</th>";for(B=0;B<Ca;B++)w+="<td class='fc- fc-col"+B+" "+N+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";w+="<td class='fc-agenda-gutter "+N+"'>&nbsp;</td></tr></tbody></table>";C=l(w).appendTo(a);m=C.find("thead");I=m.find("th").slice(1,-1);M=C.find("tbody");
i=M.find("td").slice(0,-1);H=i.find("div.fc-day-content div");Z=i.eq(0);ka=Z.find("> div");bb(m.add(m.find("tr")));bb(M.add(M.find("tr")));ea=m.find("th:first");ya=C.find(".fc-agenda-gutter");ca=l("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);if(j("allDaySlot")){ra=l("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ca);w="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+h+" fc-agenda-axis'>"+j("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+
h+" fc-agenda-gutter'>&nbsp;</th></tr></table>";$=l(w).appendTo(ca);wa=$.find("tr");k(wa.find("td"));ea=ea.add($.find("th:first"));ya=ya.add($.find("th.fc-agenda-gutter"));ca.append("<div class='fc-agenda-divider "+h+"'><div class='fc-agenda-divider-inner'/></div>")}else ra=l([]);p=l("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ca);T=l("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(p);S=l("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(T);
w="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";ta=Bb();Aa=xa(J(ta),cb);xa(ta,Ma);for(B=vb=0;ta<Aa;B++){Ea=ta.getMinutes();w+="<tr class='fc-slot"+B+" "+(!Ea?"":"fc-minor")+"'><th class='fc-agenda-axis "+h+"'>"+(!Fa||!Ea?A(ta,j("axisFormat")):"&nbsp;")+"</th><td class='"+N+"'><div style='position:relative'>&nbsp;</div></td></tr>";xa(ta,j("slotMinutes"));vb++}w+="</tbody></table>";Y=l(w).appendTo(T);ga=Y.find("div:first");u(Y.find("td"));ea=ea.add(Y.find("th:first"))}
function o(){var h,N,w,B,ta=La(new Date);for(h=0;h<Ca;h++){B=ua(h);N=I.eq(h);N.html(A(B,Wb));w=i.eq(h);+B==+ta?w.addClass(Xa+"-state-highlight fc-today"):w.removeClass(Xa+"-state-highlight fc-today");sb(N.add(w),B)}}function z(h,N){if(h===na)h=Xb;Xb=h;wb={};var w=M.position().top,B=p.position().top;h=Math.min(h-w,Y.height()+B+1);ka.height(h-Ta(Z));ca.css("top",w);p.height(h-B-1);Ya=ga.height()+1;N&&t()}function q(h){Ha=h;db.clear();Na=0;Wa(ea.width("").each(function(N,w){Na=Math.max(Na,l(w).outerWidth())}),
Na);h=p[0].clientWidth;if(xb=p.width()-h){Wa(ya,xb);ya.show().prev().removeClass("fc-last")}else ya.hide().prev().addClass("fc-last");eb=Math.floor((h-Na)/Ca);Wa(I.slice(0,-1),eb)}function t(){function h(){p.scrollTop(B)}var N=Bb(),w=J(N);w.setHours(j("firstHour"));var B=da(N,w)+1;h();setTimeout(h,0)}function Q(){Yb=p.scrollTop()}function L(){p.scrollTop(Yb)}function k(h){h.click(ba).mousedown(r)}function u(h){h.click(ba).mousedown(G)}function ba(h){if(!j("selectable")){var N=Math.min(Ca-1,Math.floor((h.pageX-
C.offset().left-Na)/eb)),w=ua(N),B=this.parentNode.className.match(/fc-slot(\d+)/);if(B){B=parseInt(B[1])*j("slotMinutes");var ta=Math.floor(B/60);w.setHours(ta);w.setMinutes(B%60+Ma);O("dayClick",i[N],w,false,h)}else O("dayClick",i[N],w,true,h)}}function ma(h,N,w){w&&Oa.build();var B=J(P.visStart);if(Vb){w=Da(N,B)*Ia+Ja+1;h=Da(h,B)*Ia+Ja+1}else{w=Da(h,B);h=Da(N,B)}w=Math.max(0,w);h=Math.min(Ca,h);w<h&&k(ha(0,w,0,h-1))}function ha(h,N,w,B){h=Oa.rect(h,N,w,B,ca);return y(h,ca)}function qa(h,N){for(var w=
J(P.visStart),B=aa(J(w),1),ta=0;ta<Ca;ta++){var Aa=new Date(Math.max(w,h)),Ea=new Date(Math.min(B,N));if(Aa<Ea){var Fa=ta*Ia+Ja;Fa=Oa.rect(0,Fa,0,Fa,T);Aa=da(w,Aa);Ea=da(w,Ea);Fa.top=Aa;Fa.height=Ea-Aa;u(y(Fa,T))}aa(w,1);aa(B,1)}}function sa(h){return db.left(h)}function ia(h){return db.right(h)}function fa(h){return{row:Math.floor(Da(h,P.visStart)/7),col:U(h.getDay())}}function la(h){var N=ua(h.col);h=h.row;j("allDaySlot")&&h--;h>=0&&xa(N,Ma+h*j("slotMinutes"));return N}function ua(h){return aa(J(P.visStart),
h*Ia+Ja)}function oa(h){return j("allDaySlot")&&!h.row}function U(h){return(h-Ub+Ca)%Ca*Ia+Ja}function da(h,N){h=J(h,true);if(N<xa(J(h),Ma))return 0;if(N>=xa(J(h),cb))return Y.height();h=j("slotMinutes");N=N.getHours()*60+N.getMinutes()-Ma;var w=Math.floor(N/h),B=wb[w];if(B===na)B=wb[w]=Y.find("tr:eq("+w+") td div")[0].offsetTop;return Math.max(0,Math.round(B-1+Ya*(N%h/h)))}function ja(){return{left:Na,right:Ha-xb}}function pa(){return wa}function F(h){var N=J(h.start);if(h.allDay)return N;return xa(N,
j("defaultEventMinutes"))}function s(h,N){if(N)return J(h);return xa(J(h),j("slotMinutes"))}function K(h,N,w){if(w)j("allDaySlot")&&ma(h,aa(J(N),1),true);else c(h,N)}function c(h,N){var w=j("selectHelper");Oa.build();if(w){var B=Da(h,P.visStart)*Ia+Ja;if(B>=0&&B<Ca){B=Oa.rect(0,B,0,B,T);var ta=da(h,h),Aa=da(h,N);if(Aa>ta){B.top=ta;B.height=Aa-ta;B.left+=2;B.width-=5;if(l.isFunction(w)){if(h=w(h,N)){B.position="absolute";B.zIndex=8;va=l(h).css(B).appendTo(T)}}else{B.isStart=true;B.isEnd=true;va=l(v({title:"",
start:h,end:N,className:["fc-select-helper"],editable:false},B));va.css("opacity",j("dragOpacity"))}if(va){u(va);T.append(va);Wa(va,B.width,true);Gb(va,B.height,true)}}}}else qa(h,N)}function x(){n();if(va){va.remove();va=null}}function G(h){if(h.which==1&&j("selectable")){W(h);var N;Sa.start(function(w,B){x();if(w&&w.col==B.col&&!oa(w)){B=la(B);w=la(w);N=[B,xa(J(B),j("slotMinutes")),w,xa(J(w),j("slotMinutes"))].sort(Ib);c(N[0],N[3])}else N=null},h);l(document).one("mouseup",function(w){Sa.stop();
if(N){+N[0]==+N[1]&&R(N[0],false,w);X(N[0],N[3],false,w)}})}}function R(h,N,w){O("dayClick",i[U(h.getDay())],h,N,w)}function V(h,N){Sa.start(function(w){n();if(w)if(oa(w))ha(w.row,w.col,w.row,w.col);else{w=la(w);var B=xa(J(w),j("defaultEventMinutes"));qa(w,B)}},N)}function za(h,N,w){var B=Sa.stop();n();B&&O("drop",h,la(B),oa(B),N,w)}var P=this;P.renderAgenda=d;P.setWidth=q;P.setHeight=z;P.beforeHide=Q;P.afterShow=L;P.defaultEventEnd=F;P.timePosition=da;P.dayOfWeekCol=U;P.dateCell=fa;P.cellDate=la;
P.cellIsAllDay=oa;P.allDayRow=pa;P.allDayBounds=ja;P.getHoverListener=function(){return Sa};P.colContentLeft=sa;P.colContentRight=ia;P.getDaySegmentContainer=function(){return ra};P.getSlotSegmentContainer=function(){return S};P.getMinMinute=function(){return Ma};P.getMaxMinute=function(){return cb};P.getBodyContent=function(){return T};P.getRowCnt=function(){return 1};P.getColCnt=function(){return Ca};P.getColWidth=function(){return eb};P.getSlotHeight=function(){return Ya};P.defaultSelectionEnd=
s;P.renderDayOverlay=ma;P.renderSelection=K;P.clearSelection=x;P.reportDayClick=R;P.dragStart=V;P.dragStop=za;Mb.call(P,a,b,e);Nb.call(P);Ob.call(P);tc.call(P);var j=P.opt,E=b.option,O=P.trigger,D=P.clearEvents,y=P.renderOverlay,n=P.clearOverlays,X=P.reportSelection,W=P.unselect,r=P.daySelectionMousedown,v=P.slotSegHtml,A=b.formatDate,C,m,I,M,i,H,Z,ka,ca,ra,$,wa,p,T,S,Y,ga,ea,ya,va,Ha,Xb,Na,eb,xb,Ya,Yb,Ca,vb,Oa,Sa,db,wb={},Xa,ub,Ub,Vb,Ia,Ja,Ma,cb,Wb;rb(a.addClass("fc-agenda"));Oa=new Pb(function(h,
N){function w(fb){return Math.max(Fa,Math.min(uc,fb))}var B,ta,Aa;I.each(function(fb,vc){B=l(vc);ta=B.offset().left;if(fb)Aa[1]=ta;Aa=[ta];N[fb]=Aa});Aa[1]=ta+B.outerWidth();if(j("allDaySlot")){B=wa;ta=B.offset().top;h[0]=[ta,ta+B.outerHeight()]}for(var Ea=T.offset().top,Fa=p.offset().top,uc=Fa+p.outerHeight(),gb=0;gb<vb;gb++)h.push([w(Ea+Ya*gb),w(Ea+Ya*(gb+1))])});Sa=new Qb(Oa);db=new Rb(function(h){return H.eq(h)})}function tc(){function a(r,v){sa(r);var A,C=r.length,m=[],I=[];for(A=0;A<C;A++)r[A].allDay?
m.push(r[A]):I.push(r[A]);if(u("allDaySlot")){K(e(m),v);la()}g(d(I),v)}function b(){ia();ua().empty();oa().empty()}function e(r){r=pb(ob(r,l.map(r,Va),k.visStart,k.visEnd));var v,A=r.length,C,m,I,M=[];for(v=0;v<A;v++){C=r[v];for(m=0;m<C.length;m++){I=C[m];I.row=0;I.level=v;M.push(I)}}return M}function d(r){var v=x(),A=ja(),C=da(),m=xa(J(k.visStart),A),I=l.map(r,f),M,i,H,Z,ka,ca,ra=[];for(M=0;M<v;M++){i=pb(ob(r,I,m,xa(J(m),C-A)));wc(i);for(H=0;H<i.length;H++){Z=i[H];for(ka=0;ka<Z.length;ka++){ca=Z[ka];
ca.col=M;ca.level=H;ra.push(ca)}}aa(m,1,true)}return ra}function f(r){return r.end?J(r.end):xa(J(r.start),u("defaultEventMinutes"))}function g(r,v){var A,C=r.length,m,I,M,i,H,Z,ka,ca,ra,$="",wa,p,T={},S={},Y=oa(),ga;A=x();if(wa=u("isRTL")){p=-1;ga=A-1}else{p=1;ga=0}for(A=0;A<C;A++){m=r[A];I=m.event;M=pa(m.start,m.start);i=pa(m.start,m.end);H=m.col;Z=m.level;ka=m.forward||0;ca=F(H*p+ga);ra=s(H*p+ga)-ca;ra=Math.min(ra-6,ra*0.95);H=Z?ra/(Z+ka+1):ka?(ra/(ka+1)-6)*2:ra;Z=ca+ra/(Z+ka+1)*Z*p+(wa?ra-H:0);
m.top=M;m.left=Z;m.outerWidth=H;m.outerHeight=i-M;$+=o(I,m)}Y[0].innerHTML=$;wa=Y.children();for(A=0;A<C;A++){m=r[A];I=m.event;$=l(wa[A]);p=ba("eventRender",I,I,$);if(p===false)$.remove();else{if(p&&p!==true){$.remove();$=l(p).css({position:"absolute",top:m.top,left:m.left}).appendTo(Y)}m.element=$;if(I._id===v)q(I,$,m);else $[0]._fci=A;za(I,$)}}Fb(Y,r,q);for(A=0;A<C;A++){m=r[A];if($=m.element){I=T[v=m.key=Kb($[0])];m.vsides=I===na?(T[v]=Ta($,true)):I;I=S[v];m.hsides=I===na?(S[v]=qb($,true)):I;v=
$.find("div.fc-event-content");if(v.length)m.contentTop=v[0].offsetTop}}for(A=0;A<C;A++){m=r[A];if($=m.element){$[0].style.width=Math.max(0,m.outerWidth-m.hsides)+"px";T=Math.max(0,m.outerHeight-m.vsides);$[0].style.height=T+"px";I=m.event;if(m.contentTop!==na&&T-m.contentTop<10){$.find("div.fc-event-time").text(X(I.start,u("timeFormat"))+" - "+I.title);$.find("div.fc-event-title").remove()}ba("eventAfterRender",I,I,$)}}}function o(r,v){var A="<",C=r.url,m=Lb(r,u),I=m?" style='"+m+"'":"",M=["fc-event",
"fc-event-skin","fc-event-vert"];ma(r)&&M.push("fc-event-draggable");v.isStart&&M.push("fc-corner-top");v.isEnd&&M.push("fc-corner-bottom");M=M.concat(r.className);if(r.source)M=M.concat(r.source.className||[]);A+=C?"a href='"+Ra(r.url)+"'":"div";A+=" class='"+M.join(" ")+"' style='position:absolute;z-index:8;top:"+v.top+"px;left:"+v.left+"px;"+m+"'><div class='fc-event-inner fc-event-skin'"+I+"><div class='fc-event-head fc-event-skin'"+I+"><div class='fc-event-time'>"+Ra(W(r.start,r.end,u("timeFormat")))+
"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+Ra(r.title)+"</div></div><div class='fc-event-bg'></div></div>";if(v.isEnd&&ha(r))A+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";A+="</"+(C?"a":"div")+">";return A}function z(r,v,A){ma(r)&&t(r,v,A.isStart);A.isEnd&&ha(r)&&c(r,v,A);fa(r,v)}function q(r,v,A){var C=v.find("div.fc-event-time");ma(r)&&Q(r,v,C);A.isEnd&&ha(r)&&L(r,v,C);fa(r,v)}function t(r,v,A){function C(){if(!M){v.width(m).height("").draggable("option",
"grid",null);M=true}}var m,I,M=true,i,H=u("isRTL")?-1:1,Z=U(),ka=G(),ca=R(),ra=ja();v.draggable({zIndex:9,opacity:u("dragOpacity","month"),revertDuration:u("dragRevertDuration"),start:function($,wa){ba("eventDragStart",v,r,$,wa);j(r,v);m=v.width();Z.start(function(p,T,S,Y){y();if(p){I=false;i=Y*H;if(p.row)if(A){if(M){v.width(ka-10);Gb(v,ca*Math.round((r.end?(r.end-r.start)/xc:u("defaultEventMinutes"))/u("slotMinutes")));v.draggable("option","grid",[ka,1]);M=false}}else I=true;else{D(aa(J(r.start),
i),aa(Va(r),i));C()}I=I||M&&!i}else{C();I=true}v.draggable("option","revert",I)},$,"drag")},stop:function($,wa){Z.stop();y();ba("eventDragStop",v,r,$,wa);if(I){C();v.css("filter","");P(r,v)}else{var p=0;M||(p=Math.round((v.offset().top-V().offset().top)/ca)*u("slotMinutes")+ra-(r.start.getHours()*60+r.start.getMinutes()));E(this,r,i,p,M,$,wa)}}})}function Q(r,v,A){function C(p){var T=xa(J(r.start),p),S;if(r.end)S=xa(J(r.end),p);A.text(W(T,S,u("timeFormat")))}function m(){if(M){A.css("display","");
v.draggable("option","grid",[$,wa]);M=false}}var I,M=false,i,H,Z,ka=u("isRTL")?-1:1,ca=U(),ra=x(),$=G(),wa=R();v.draggable({zIndex:9,scroll:false,grid:[$,wa],axis:ra==1?"y":false,opacity:u("dragOpacity"),revertDuration:u("dragRevertDuration"),start:function(p,T){ba("eventDragStart",v,r,p,T);j(r,v);I=v.position();H=Z=0;ca.start(function(S,Y,ga,ea){v.draggable("option","revert",!S);y();if(S){i=ea*ka;if(u("allDaySlot")&&!S.row){if(!M){M=true;A.hide();v.draggable("option","grid",null)}D(aa(J(r.start),
i),aa(Va(r),i))}else m()}},p,"drag")},drag:function(p,T){H=Math.round((T.position.top-I.top)/wa)*u("slotMinutes");if(H!=Z){M||C(H);Z=H}},stop:function(p,T){var S=ca.stop();y();ba("eventDragStop",v,r,p,T);if(S&&(i||H||M))E(this,r,i,M?0:H,M,p,T);else{m();v.css("filter","");v.css(I);C(0);P(r,v)}}})}function L(r,v,A){var C,m,I=R();v.resizable({handles:{s:"div.ui-resizable-s"},grid:I,start:function(M,i){C=m=0;j(r,v);v.css("z-index",9);ba("eventResizeStart",this,r,M,i)},resize:function(M,i){C=Math.round((Math.max(I,
v.height())-i.originalSize.height)/I);if(C!=m){A.text(W(r.start,!C&&!r.end?null:xa(qa(r),u("slotMinutes")*C),u("timeFormat")));m=C}},stop:function(M,i){ba("eventResizeStop",this,r,M,i);if(C)O(this,r,0,u("slotMinutes")*C,M,i);else{v.css("z-index",8);P(r,v)}}})}var k=this;k.renderEvents=a;k.compileDaySegs=e;k.clearEvents=b;k.slotSegHtml=o;k.bindDaySeg=z;Sb.call(k);var u=k.opt,ba=k.trigger,ma=k.isEventDraggable,ha=k.isEventResizable,qa=k.eventEnd,sa=k.reportEvents,ia=k.reportEventClear,fa=k.eventElementHandlers,
la=k.setHeight,ua=k.getDaySegmentContainer,oa=k.getSlotSegmentContainer,U=k.getHoverListener,da=k.getMaxMinute,ja=k.getMinMinute,pa=k.timePosition,F=k.colContentLeft,s=k.colContentRight,K=k.renderDaySegs,c=k.resizableDayEvent,x=k.getColCnt,G=k.getColWidth,R=k.getSlotHeight,V=k.getBodyContent,za=k.reportEventElement,P=k.showEvents,j=k.hideEvents,E=k.eventDrop,O=k.eventResize,D=k.renderDayOverlay,y=k.clearOverlays,n=k.calendar,X=n.formatDate,W=n.formatDates}function wc(a){var b,e,d,f,g,o;for(b=a.length-
1;b>0;b--){f=a[b];for(e=0;e<f.length;e++){g=f[e];for(d=0;d<a[b-1].length;d++){o=a[b-1][d];if(Eb(g,o))o.forward=Math.max(o.forward||0,(g.forward||0)+1)}}}}function Mb(a,b,e){function d(F,s){F=pa[F];if(typeof F=="object")return kb(F,s||e);return F}function f(F,s){return b.trigger.apply(b,[F,s||fa].concat(Array.prototype.slice.call(arguments,2),[fa]))}function g(F){return z(F)&&!d("disableDragging")}function o(F){return z(F)&&!d("disableResizing")}function z(F){return Ua(F.editable,(F.source||{}).editable,
d("editable"))}function q(F){U={};var s,K=F.length,c;for(s=0;s<K;s++){c=F[s];if(U[c._id])U[c._id].push(c);else U[c._id]=[c]}}function t(F){return F.end?J(F.end):la(F)}function Q(F,s){da.push(s);if(ja[F._id])ja[F._id].push(s);else ja[F._id]=[s]}function L(){da=[];ja={}}function k(F,s){s.click(function(K){if(!s.hasClass("ui-draggable-dragging")&&!s.hasClass("ui-resizable-resizing"))return f("eventClick",this,F,K)}).hover(function(K){f("eventMouseover",this,F,K)},function(K){f("eventMouseout",this,F,
K)})}function u(F,s){ma(F,s,"show")}function ba(F,s){ma(F,s,"hide")}function ma(F,s,K){F=ja[F._id];var c,x=F.length;for(c=0;c<x;c++)if(!s||F[c][0]!=s[0])F[c][K]()}function ha(F,s,K,c,x,G,R){var V=s.allDay,za=s._id;sa(U[za],K,c,x);f("eventDrop",F,s,K,c,x,function(){sa(U[za],-K,-c,V);oa(za)},G,R);oa(za)}function qa(F,s,K,c,x,G){var R=s._id;ia(U[R],K,c);f("eventResize",F,s,K,c,function(){ia(U[R],-K,-c);oa(R)},x,G);oa(R)}function sa(F,s,K,c){K=K||0;for(var x,G=F.length,R=0;R<G;R++){x=F[R];if(c!==na)x.allDay=
c;xa(aa(x.start,s,true),K);if(x.end)x.end=xa(aa(x.end,s,true),K);ua(x,pa)}}function ia(F,s,K){K=K||0;for(var c,x=F.length,G=0;G<x;G++){c=F[G];c.end=xa(aa(t(c),s,true),K);ua(c,pa)}}var fa=this;fa.element=a;fa.calendar=b;fa.name=e;fa.opt=d;fa.trigger=f;fa.isEventDraggable=g;fa.isEventResizable=o;fa.reportEvents=q;fa.eventEnd=t;fa.reportEventElement=Q;fa.reportEventClear=L;fa.eventElementHandlers=k;fa.showEvents=u;fa.hideEvents=ba;fa.eventDrop=ha;fa.eventResize=qa;var la=fa.defaultEventEnd,ua=b.normalizeEvent,
oa=b.reportEventChange,U={},da=[],ja={},pa=b.options}function Sb(){function a(j,E){var O=x(),D=oa(),y=U(),n=0,X,W,r=j.length,v,A;O[0].innerHTML=e(j);d(j,O.children());f(j);g(j,O,E);o(j);z(j);q(j);E=t();for(O=0;O<D;O++){X=[];for(W=0;W<y;W++)X[W]=0;for(;n<r&&(v=j[n]).row==O;){W=Jb(X.slice(v.startCol,v.endCol));v.top=W;W+=v.outerHeight;for(A=v.startCol;A<v.endCol;A++)X[A]=W;n++}E[O].height(Jb(X))}L(j,Q(E))}function b(j,E,O){var D=l("<div/>"),y=x(),n=j.length,X;D[0].innerHTML=e(j);D=D.children();y.append(D);
d(j,D);o(j);z(j);q(j);L(j,Q(t()));D=[];for(y=0;y<n;y++)if(X=j[y].element){j[y].row===E&&X.css("top",O);D.push(X[0])}return l(D)}function e(j){var E=ba("isRTL"),O,D=j.length,y,n,X,W;O=ja();var r=O.left,v=O.right,A,C,m,I,M,i="";for(O=0;O<D;O++){y=j[O];n=y.event;W=["fc-event","fc-event-skin","fc-event-hori"];ha(n)&&W.push("fc-event-draggable");if(E){y.isStart&&W.push("fc-corner-right");y.isEnd&&W.push("fc-corner-left");A=s(y.end.getDay()-1);C=s(y.start.getDay());if(A<C)A=C;m=y.isEnd?pa(A):r;I=y.isStart?
F(C):v}else{y.isStart&&W.push("fc-corner-left");y.isEnd&&W.push("fc-corner-right");A=s(y.start.getDay());C=s(y.end.getDay()-1);if(C<A)C=A;m=y.isStart?pa(A):r;I=y.isEnd?F(C):v}W=W.concat(n.className);if(n.source)W=W.concat(n.source.className||[]);X=n.url;M=Lb(n,ba);i+=X?"<a href='"+Ra(X)+"'":"<div";i+=" class='"+W.join(" ")+"' style='position:absolute;z-index:8;left:"+m+"px;"+M+"'><div class='fc-event-inner fc-event-skin'"+(M?" style='"+M+"'":"")+">";if(!n.allDay&&y.isStart)i+="<span class='fc-event-time'>"+
Ra(R(n.start,n.end,ba("timeFormat")))+"</span>";i+="<span class='fc-event-title'>"+Ra(n.title)+"</span></div>";if(y.isEnd&&qa(n))i+="<div class='ui-resizable-handle ui-resizable-"+(E?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>";i+="</"+(X?"a":"div")+">";y.left=m;y.outerWidth=I-m;y.startCol=A;y.endCol=C+1}return i}function d(j,E){var O,D=j.length,y,n,X;for(O=0;O<D;O++){y=j[O];n=y.event;X=l(E[O]);n=ma("eventRender",n,n,X);if(n===false)X.remove();else{if(n&&n!==true){n=l(n).css({position:"absolute",left:y.left});
X.replaceWith(n);X=n}y.element=X}}}function f(j){var E,O=j.length,D,y;for(E=0;E<O;E++){D=j[E];(y=D.element)&&ia(D.event,y)}}function g(j,E,O){var D,y=j.length,n,X,W;for(D=0;D<y;D++){n=j[D];if(X=n.element){W=n.event;if(W._id===O)G(W,X,n);else X[0]._fci=D}}Fb(E,j,G)}function o(j){var E,O=j.length,D,y,n,X,W={};for(E=0;E<O;E++){D=j[E];if(y=D.element){n=D.key=Kb(y[0]);X=W[n];if(X===na)X=W[n]=qb(y,true);D.hsides=X}}}function z(j){var E,O=j.length,D,y;for(E=0;E<O;E++){D=j[E];if(y=D.element)y[0].style.width=
Math.max(0,D.outerWidth-D.hsides)+"px"}}function q(j){var E,O=j.length,D,y,n,X,W={};for(E=0;E<O;E++){D=j[E];if(y=D.element){n=D.key;X=W[n];if(X===na)X=W[n]=Hb(y);D.outerHeight=y[0].offsetHeight+X}}}function t(){var j,E=oa(),O=[];for(j=0;j<E;j++)O[j]=da(j).find("td:first div.fc-day-content > div");return O}function Q(j){var E,O=j.length,D=[];for(E=0;E<O;E++)D[E]=j[E][0].offsetTop;return D}function L(j,E){var O,D=j.length,y,n;for(O=0;O<D;O++){y=j[O];if(n=y.element){n[0].style.top=E[y.row]+(y.top||0)+
"px";y=y.event;ma("eventAfterRender",y,y,n)}}}function k(j,E,O){var D=ba("isRTL"),y=D?"w":"e",n=E.find("div.ui-resizable-"+y),X=false;rb(E);E.mousedown(function(W){W.preventDefault()}).click(function(W){if(X){W.preventDefault();W.stopImmediatePropagation()}});n.mousedown(function(W){function r(ca){ma("eventResizeStop",this,j,ca);l("body").css("cursor","");v.stop();za();i&&ua(this,j,i,0,ca);setTimeout(function(){X=false},0)}if(W.which==1){X=true;var v=u.getHoverListener(),A=oa(),C=U(),m=D?-1:1,I=D?
C-1:0,M=E.css("top"),i,H,Z=l.extend({},j),ka=K(j.start);P();l("body").css("cursor",y+"-resize").one("mouseup",r);ma("eventResizeStart",this,j,W);v.start(function(ca,ra){if(ca){var $=Math.max(ka.row,ca.row);ca=ca.col;if(A==1)$=0;if($==ka.row)ca=D?Math.min(ka.col,ca):Math.max(ka.col,ca);i=$*7+ca*m+I-(ra.row*7+ra.col*m+I);ra=aa(sa(j),i,true);if(i){Z.end=ra;$=H;H=b(c([Z]),O.row,M);H.find("*").css("cursor",y+"-resize");$&&$.remove();la(j)}else if(H){fa(j);H.remove();H=null}za();V(j.start,aa(J(ra),1))}},
W)}})}var u=this;u.renderDaySegs=a;u.resizableDayEvent=k;var ba=u.opt,ma=u.trigger,ha=u.isEventDraggable,qa=u.isEventResizable,sa=u.eventEnd,ia=u.reportEventElement,fa=u.showEvents,la=u.hideEvents,ua=u.eventResize,oa=u.getRowCnt,U=u.getColCnt,da=u.allDayRow,ja=u.allDayBounds,pa=u.colContentLeft,F=u.colContentRight,s=u.dayOfWeekCol,K=u.dateCell,c=u.compileDaySegs,x=u.getDaySegmentContainer,G=u.bindDaySeg,R=u.calendar.formatDates,V=u.renderDayOverlay,za=u.clearOverlays,P=u.clearSelection}function Ob(){function a(L,
k,u){b();k||(k=z(L,u));q(L,k,u);e(L,k,u)}function b(L){if(Q){Q=false;t();o("unselect",null,L)}}function e(L,k,u,ba){Q=true;o("select",null,L,k,u,ba)}function d(L){var k=f.cellDate,u=f.cellIsAllDay,ba=f.getHoverListener(),ma=f.reportDayClick;if(L.which==1&&g("selectable")){b(L);var ha;ba.start(function(qa,sa){t();if(qa&&u(qa)){ha=[k(sa),k(qa)].sort(Ib);q(ha[0],ha[1],true)}else ha=null},L);l(document).one("mouseup",function(qa){ba.stop();if(ha){+ha[0]==+ha[1]&&ma(ha[0],true,qa);e(ha[0],ha[1],true,qa)}})}}
var f=this;f.select=a;f.unselect=b;f.reportSelection=e;f.daySelectionMousedown=d;var g=f.opt,o=f.trigger,z=f.defaultSelectionEnd,q=f.renderSelection,t=f.clearSelection,Q=false;g("selectable")&&g("unselectAuto")&&l(document).mousedown(function(L){var k=g("unselectCancel");if(k)if(l(L.target).parents(k).length)return;b(L)})}function Nb(){function a(g,o){var z=f.shift();z||(z=l("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));z[0].parentNode!=o[0]&&z.appendTo(o);d.push(z.css(g).show());
return z}function b(){for(var g;g=d.shift();)f.push(g.hide().unbind())}var e=this;e.renderOverlay=a;e.clearOverlays=b;var d=[],f=[]}function Pb(a){var b=this,e,d;b.build=function(){e=[];d=[];a(e,d)};b.cell=function(f,g){var o=e.length,z=d.length,q,t=-1,Q=-1;for(q=0;q<o;q++)if(g>=e[q][0]&&g<e[q][1]){t=q;break}for(q=0;q<z;q++)if(f>=d[q][0]&&f<d[q][1]){Q=q;break}return t>=0&&Q>=0?{row:t,col:Q}:null};b.rect=function(f,g,o,z,q){q=q.offset();return{top:e[f][0]-q.top,left:d[g][0]-q.left,width:d[z][1]-d[g][0],
height:e[o][1]-e[f][0]}}}function Qb(a){function b(z){z=a.cell(z.pageX,z.pageY);if(!z!=!o||z&&(z.row!=o.row||z.col!=o.col)){if(z){g||(g=z);f(z,g,z.row-g.row,z.col-g.col)}else f(z,g);o=z}}var e=this,d,f,g,o;e.start=function(z,q,t){f=z;g=o=null;a.build();b(q);d=t||"mousemove";l(document).bind(d,b)};e.stop=function(){l(document).unbind(d,b);return o}}function Rb(a){function b(o){return d[o]=d[o]||a(o)}var e=this,d={},f={},g={};e.left=function(o){return f[o]=f[o]===na?b(o).position().left:f[o]};e.right=
function(o){return g[o]=g[o]===na?e.left(o)+b(o).width():g[o]};e.clear=function(){d={};f={};g={}}}var Za={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,
monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",
week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"},yc={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Ba=l.fullCalendar={version:"1.5.2"},Ka=Ba.views={};l.fn.fullCalendar=function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,
1),e;this.each(function(){var f=l.data(this,"fullCalendar");if(f&&l.isFunction(f[a])){f=f[a].apply(f,b);if(e===na)e=f;a=="destroy"&&l.removeData(this,"fullCalendar")}});if(e!==na)return e;return this}var d=a.eventSources||[];delete a.eventSources;if(a.events){d.push(a.events);delete a.events}a=l.extend(true,{},Za,a.isRTL||a.isRTL===na&&Za.isRTL?yc:{},a);if(!a.weekendDays)a.weekendDays=[0,6];this.each(function(f,g){f=l(g);g=new Zb(f,a,d);f.data("fullCalendar",g);g.render()});return this};Ba.sourceNormalizers=
[];Ba.sourceFetchers=[];var bc={dataType:"json",cache:false},cc=1;Ba.addDays=aa;Ba.cloneDate=J;Ba.parseDate=lb;Ba.parseISO8601=Db;Ba.parseTime=nb;Ba.formatDate=Pa;Ba.formatDates=jb;var mc=["sun","mon","tue","wed","thu","fri","sat"],Cb=864E5,dc=36E5,xc=6E4,ec={s:function(a){return a.getSeconds()},ss:function(a){return Qa(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Qa(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Qa(a.getHours()%12||
12)},H:function(a){return a.getHours()},HH:function(a){return Qa(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Qa(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Qa(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},
yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return Pa(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"}};Ba.applyAll=ab;Ka.month=nc;Ka.basicWeek=oc;Ka.basicDay=pc;yb({weekMode:"fixed"});Ka.agendaWeek=rc;Ka.agendaDay=sc;yb({allDaySlot:true,
allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24})})(jQuery);
